<div id="line_chart_questions">
    <h2>Line Chart Questions</h2>
    <p>Now that you've had a chance to look at the visualization, please answer these questions.</p>

    <br>
    <h3>Engagement Questions.</h3>
    <div id="line_chart_question_2"><strong>I found the content of the visualization easy to understand.</strong>
        <div id="lcq2_answers">
            <input type="radio" id="a1" name="line_chart_question_2" value="Strongly Agree">Strongly Agree
            <input type="radio" id="a2" name="line_chart_question_2" value="Agree">Agree
            <input type="radio" id="a3" name="line_chart_question_2" value="Disagree">Disagree
            <input type="radio" id="a4" name="line_chart_question_2" value="Strongly Disagree">Strongly Disagree
        </div>
    </div>
    <div>
        <h3>Mental Demand</h3>
        <p>How mentally demanding was it to understand the visualization?</p>
        Very Low<input type="range" name ="mental_demand" min="0.0" max="1.0" value="0" step=".1" />Very High


        <h3>Temporal Demand</h3>
        <p>How hurried or rushed were you to understand the visualization?</p>
        Very Low<input type="range" name ="temporal_demand" min="0.0" max="1.0" value="0" step=".1" />Very High


        <h3>Performance</h3>
        <p>How successful were you in accomplishing what you were asked to do?</p>
        Failure<input type="range" name ="performance" min="0.0" max="1.0" value="0" step=".1" />Perfect


        <h3>Effort</h3>
        <p>How hard did you have to work to accomplish your level of performance?</p>
        Very Low<input type="range" name ="effort" min="0.0" max="1.0" value="0" step=".1" />Very High


        <h3>Frustration</h3>
        <p>How insecure, discouraged, irritated, stressed, and annoyed were you?</p>
        Very Low<input type="range" name ="frustration" min="0.0" max="1.0" value="0" step=".1" />Very High


    </div>

    </div>
    
    <script> 
    (function() {
    
    var data = {}; 
    let flag = null;
    data.mental_demand = 0;
    data.temporal_demand = 0;
    data.performance = 0; 
    data.effort = 0; 
    data.frustration = 0;  
    
    experimentr.startTimer('line_chart_demo');
    
    d3.selectAll('input')
    .filter(function(d) { return this.name === 'line_chart_question_2' ? this : null; })
    .on('change', function() { data.lcq2 = this.value; validate(); });
    
    d3.selectAll('input')
    .filter(function(d) { return this.name === 'mental_demand' ? this : null; })
    .on('change', function() { flag = 1; data.mental_demand = this.value; validate(); });


    d3.selectAll('input')
    .filter(function(d) { return this.name === 'temporal_demand' ? this : null; })
    .on('change', function() { flag = 1; 
                    data.temporal_demand = this.value; validate(); });

    d3.selectAll('input')
    .filter(function(d) { return this.name === 'performance' ? this : null; })
    .on('change', function() { flag = 1; 
                    data.performance = this.value; validate(); });

    d3.selectAll('input')
    .filter(function(d) { return this.name === 'effort' ? this : null; })
    .on('change', function() { flag = 1; 
                    data.effort = this.value; validate(); });

    d3.selectAll('input')
    .filter(function(d) { return this.name === 'frustration' ? this : null; })
    .on('change', function() { flag = 1; 
                    data.frustration = this.value; validate(); });
 
        
    function validate() {
        if(data.lcq2 && flag) {
        experimentr.endTimer('line_chart_demo');
        experimentr.addData(data);
        experimentr.release();
        } 
    }

    function grade(data) {
        score = 0;
        for (answer in data) {
        //Odd numbered questions grading
        if (answer == 'mental_demand' || 
            answer == 'temporal_demand' || answer == 'performance' || 
            answer == 'effort' || answer == 'frustration') {
                score += data[answer];
        }
        //If this procedure has been run already we don't want the "grade"
        //member variable to be misused accidentally.
        else {
            continue;
        }}
        data.nasatlx_score = score;
    }
    }());
    </script>
    